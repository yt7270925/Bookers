<h1>Books</h1>

<% Book.all.each do |book| %>

  <table>
   <thead>
    <tr>
     <th>Title</th>
     <th>Body</th>
     <th colspan="3"></th>
    </tr>
   </thead>
   <tbody>
     <tr>
       <td class="index-title-text"><%= book.title %></td>
       <td class="index-body-text"><%= book.body %></td>
       <td class="link"><%= link_to 'Show', book_path(book.id) %></td>
       <td class="link"><%= link_to 'Edit', edit_book_path(book.id) %></td>
       <td class="link"><%= link_to "Dstroy", book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %></td>
     </tr>
   </tbody>
  </table>

 <% end %>

<h2>New Book</h2>

<!-- validation -->
<% if @book.errors.any? %>
 <div><%= @book.errors.count %>Error prohibited this book from being saved:</div>
 <% @book.errors.full_messages.each do |message| %>
  <div><%= message %></div>
 <% end %>
<% end %>

<%= form_with model: @book, url: 'books', method: :post do |f| %>

  <h4 class="index-box">Title</h4>
  <div><%= f.text_field :title %></div>

  <h4 class="index-box">Body</h4>
  <div><%= f.text_area :body %></div>

 <div class="box">
  <%= f.submit 'Create Book' %>
 </div>
<% end %>